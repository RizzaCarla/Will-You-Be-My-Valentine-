<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Special Delivery üíå</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Dancing Script',cursive;
  background:linear-gradient(135deg,#ffd6e7,#ffc2d1);
  height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* MAILBOX */
.mailbox{
  width:200px;height:160px;
  background:#ff4d6d;
  border-radius:20px;
  position:relative;
  cursor:pointer;
  transition:1s;
}
.flag{
  width:10px;height:60px;
  background:white;
  position:absolute;right:-15px;top:20px;
}
.flag:after{
  content:"";
  position:absolute;
  border-left:30px solid white;
  border-top:15px solid transparent;
  border-bottom:15px solid transparent;
  left:10px;
}
.mail-slot{
  width:120px;height:20px;
  background:#333;
  position:absolute;
  top:70px;left:40px;
  border-radius:10px;
}

/* ENVELOPE */
.envelope{
  display:none;
  width:340px;height:230px;
  background:white;
  border-radius:12px;
  position:relative;
  transform-style:preserve-3d;
  transition:1s;
  cursor:pointer;
}
.envelope.flip{ transform:rotateY(180deg); }

.face{
  position:absolute;
  width:100%;height:100%;
  backface-visibility:hidden;
  border-radius:12px;
}

/* BACK */
.zigzag{
  border:3px dashed #ff4d6d;
  width:90px;height:60px;
  position:absolute;
  top:20px;right:20px;
}
.postmark{
  position:absolute;
  bottom:20px;left:20px;
  font-size:20px;
}
.address{
  position:absolute;
  bottom:20px;right:20px;
  font-size:22px;
}

/* FRONT */
.front{ transform:rotateY(180deg); }

.flap{
  position:absolute;
  border-left:170px solid transparent;
  border-right:170px solid transparent;
  border-top:120px solid #ff4d6d;
  transform-origin:top;
}

/* LETTER */
.letter{
  display:none;
  position:absolute;
  background:white;
  width:280px;
  top:40px;left:30px;
  padding:20px;
  border-radius:12px;
  text-align:center;
}

.photo{
  width:100%;
  border-radius:10px;
  margin-bottom:15px;
}

/* handwriting animation */
.type{
  overflow:hidden;
  white-space:nowrap;
  border-right:3px solid pink;
  width:0;
  font-size:28px;
  animation:typing 3s steps(40,end) forwards;
}
@keyframes typing{ to{ width:100%; } }

button{
  font-size:24px;
  padding:10px 20px;
  margin:10px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  font-family:inherit;
}
.yes{ background:#ff4d6d;color:white; }
.no{ background:#333;color:white; }

/* FINAL */
.final{
  display:none;
  text-align:center;
  font-size:32px;
  color:white;
  max-width:500px;
}

/* HEARTS */
.heart{
  position:fixed;
  bottom:-20px;
  font-size:26px;
  animation:float 8s linear;
}
@keyframes float{
  to{ transform:translateY(-110vh); opacity:0;}
}
</style>
</head>

<body>

<audio id="music" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/02/22/audio_4f7d6a7c6c.mp3">
</audio>

<div class="mailbox" id="mailbox">
  <div class="flag"></div>
  <div class="mail-slot"></div>
</div>

<div class="envelope" id="envelope">

  <div class="face back">
    <div class="zigzag"></div>
    <div class="postmark" id="dateStamp"></div>
    <div class="address">From Rizza ‚Üí Aaron</div>
  </div>

  <div class="face front">
    <div class="flap" id="flap"></div>

    <div class="letter" id="letter">
      <!-- ‚úÖ UPDATED IMAGE NAME -->
      <img src="photo.jpeg" class="photo">

      <div class="type">
        Will you be my Valentine? ‚ù§Ô∏è
      </div>

      <div>
        <button class="yes" id="yesBtn">YES</button>
        <button class="no" id="noBtn">NO</button>
      </div>
    </div>
  </div>

</div>

<div class="final" id="finalMsg">
I love you! ‚ô•Ô∏è<br><br>
I‚Äôm so glad you said yes because I wouldn‚Äôt have taken no as an answer.<br><br>
See you on our valentines date this weekend!
</div>

<script>
const mailbox=document.getElementById("mailbox");
const envelope=document.getElementById("envelope");
const flap=document.getElementById("flap");
const letter=document.getElementById("letter");
const music=document.getElementById("music");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const finalMsg=document.getElementById("finalMsg");

/* date stamp */
const today=new Date();
document.getElementById("dateStamp").innerText=
`Cupid Post Office ‚ô•Ô∏è ${today.toLocaleDateString()}`;

/* mailbox click */
mailbox.onclick=()=>{
  mailbox.style.opacity=0;
  setTimeout(()=>{
    mailbox.style.display="none";
    envelope.style.display="block";
    music.play();
  },800);
};

/* flip envelope */
envelope.onclick=()=> envelope.classList.toggle("flip");

/* drag flap */
let dragging=false;
flap.addEventListener("pointerdown",()=> dragging=true);

document.addEventListener("pointermove",()=>{
  if(!dragging) return;
  flap.style.transform="rotateX(180deg)";
  letter.style.display="block";
  startHearts();
});
document.addEventListener("pointerup",()=> dragging=false);

/* hearts */
function startHearts(){
  if(window.started) return;
  window.started=true;

  setInterval(()=>{
    const h=document.createElement("div");
    h.className="heart";
    h.innerText="‚ù§Ô∏è";
    h.style.left=Math.random()*100+"vw";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),8000);
  },3000);
}

/* NO button */
noBtn.onclick=()=> noBtn.innerText="üòõ";

/* YES button */
yesBtn.onclick=()=>{
  navigator.vibrate?.(200);
  envelope.style.display="none";
  finalMsg.style.display="block";
};
</script>

</body>
</html>